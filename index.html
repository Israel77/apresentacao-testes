<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>reveal.js</title>

    <link rel="stylesheet" href="dist/reset.css">
    <link rel="stylesheet" href="dist/reveal.css">
    <link rel="stylesheet" href="dist/theme/black.css">
    <link rel="stylesheet" href="assets/styles.css">

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="plugin/highlight/one-dark.css">
</head>

<body>
    <div class="reveal">
        <div class="slides">
            <section id="intro" class="center">
                <h1>Boas práticas de testes</h1>
                <p>Israel Silvino Melo Batista</p>
                <div>
                    <img src="assets/cc-by-sa.png" alt="Creative Commons BY-SA">
                </div>
            </section>
            <section id="motivacao">
                <header class="header">Por que fazer testes automatizados?</header>
                <ul>
                    <li>Verificar a validade e funcionalidade do código escrito.</li>
                    <li>Complementar a documentação no entendimento de como a aplicação funciona.
                    </li>
                    <li>Garantir a retrocompatibilidade após mudanças no código.</li>
                    <li>Permitir a manutenção e refatoração do código de forma eficiente.</li>
                    <li>Exigências de cobertura de testes no controle de qualidade.</li>
                </ul>
            </section>
            <section id="tipos-testes">
                Principais tipos de testes:
                <ul>
                    <li>Testes manuais</li>
                    <li>Testes unitários</li>
                    <li>Testes de API</li>
                </ul>
            </section>
            <section id="restassured-intro" data-auto-animate>
                <header class="header">
                    <h1>Testes de API</h1>
                </header>
                <div class="h-container">
                    <div class="left-section">
                        <h3 data-id="subtitle">RestAssured</h3>
                        <p data-id="explanation">Simula as requisições HTTP e permite navegar pelo JSON da resposta</p>
                    </div>
                    <div class="right-section">
                        <pre><code data-id="code-snippet" data-line-numbers>
given()
    .contentType(MediaType.APPLICATION_JSON)
    .header("X-Auth-Token", token)
    .queryParam("pagina", 1)
    .body(requisicao)
    .when()
    .post("/api/v1/usuarios")
    .then()
    .statusCode(200)
    .body("qtdUsuarios", equalTo(3))
    .body("usuarios[0].id", equalTo(1))
    .body("usuarios[0].nome", equalTo("João da Silva"));
                        </code></pre>
                    </div>
                </div>
            </section>
            <section id="restassured-methods" data-auto-animate>
                <header class="header">
                    <h1>Testes de API</h1>
                </header>
                <div class="h-container">
                    <div class="left-section">
                        <h3 data-id="subtitle">RestAssured</h3>
                        <p data-id="explanation">Especificação da requisição</p>
                    </div>
                    <div class="right-section">
                        <pre><code data-id="code-snippet" data-line-numbers="2-8|2|3|4|5|6|7-8|2-8|9-13|10">
given()
    .contentType(MediaType.APPLICATION_JSON)
    .header("X-Auth-Token", token)
    .queryParam("pagina", 1)
    .body(requisicao)
    .when()
    .post("api/v1/usuarios")
    .then()
    .statusCode(200)
    .body("qtdUsuarios", equalTo(3))
    .body("usuarios[0].id", equalTo(1))
    .body("usuarios[0].nome", equalTo("João da Silva"));
                        </code></pre>
                    </div>
                </div>
            </section>
            <section id="hamcrest" data-auto-animate>
                <header class="header">
                    <h1>Testes de API</h1>
                </header>
                <div class="h-container">
                    <div class="left-section">
                        <h3 data-id="subtitle">RestAssured</h3>
                        <p data-id="explanation">Especificação da requisição</p>
                        <h3 data-id="subtitle">Hamcrest</h3>
                        <p data-id="explanation">Verifica padrões em objetos do Java</p>
                    </div>
                    <div class="right-section">
                        <pre><code data-id="code-snippet" data-line-numbers="11-13">
given()
    .contentType(MediaType.APPLICATION_JSON)
    .header("X-Auth-Token", token)
    .queryParam("pagina", 1)
    .body(requisicao)
    .when()
    .post("api/v1/usuarios")
    .then()
    .statusCode(200)
    .body("qtdUsuarios", equalTo(3))
    .body("usuarios[0].id", equalTo(1))
    .body("usuarios[0].nome", equalTo("João da Silva"));
                        </code></pre>
                    </div>
                </div>
            </section>
            <section id="valores-resposta" data-auto-animate>
                <section data-auto-animate="">
                    <header class="header">
                        <h1>Testes de API</h1>
                    </header>
                    <p>Testando valores na resposta</p>
                    <div class="h-container">
                        <div class="left-section">
                            <p>JSON</p>
                            <pre><code data-id="json-snippet" data-line-numbers>
{
    "string": "Olá, mundo!",
    "inteiro": 123,
    "decimal": 123.45,
    "inteiroLongo": 12345678901234,
    "verdadeiro": true,
    "falso": false,
    "nulo": null
}
                        </code></pre>
                        </div>
                        <div class="right-section">
                            <p>Teste</p>
                            <pre><code data-id="code-snippet" data-line-numbers="4-11">
when()
    .get("api/v1/valores")
    .then()
    .body("string", equalTo("Olá, mundo!"))
    .body("inteiro", equalTo(123))
    .body("decimal", equalTo(123.45f))
    .body("inteiroLongo", equalTo(12345678901234L))
    .body("verdadeiro", equalTo(true))
    .body("falso", equalTo(false))
    .body("nulo", nullValue());
                        </code></pre>
                        </div>
                    </div>
                </section>
                <section data-auto-animate="">
                    <header class="header">
                        <h1>Testes de API</h1>
                    </header>
                    <p>Testando valores na resposta</p>
                    <div class="h-container">
                        <div class="left-section">
                            <p>JSON</p>
                            <pre><code data-id="json-snippet" data-line-numbers="3">
{
    "string": "Olá, mundo!",
    "inteiro": 123,
    "decimal": 123.45,
    "inteiroLongo": 12345678901234,
    "verdadeiro": true,
    "falso": false,
    "nulo": null
}
                        </code></pre>
                        </div>
                        <div class="right-section">
                            <p>Teste</p>
                            <pre><code data-id="code-snippet" data-line-numbers="5">
when()
    .get("api/v1/valores")
    .then()
    .body("string", equalTo("Olá, mundo!"))
    .body("inteiro", equalTo(123))
    .body("decimal", equalTo(123.45f))
    .body("inteiroLongo", equalTo(12345678901234L))
    .body("verdadeiro", equalTo(true))
    .body("falso", equalTo(false))
    .body("nulo", nullValue());
                        </code></pre>
                        </div>
                    </div>
                </section>
                <section data-auto-animate="">
                    <header class="header">
                        <h1>Testes de API</h1>
                    </header>
                    <p>Testando valores na resposta</p>
                    <div class="h-container">
                        <div class="left-section">
                            <p>JSON</p>
                            <pre><code data-id="json-snippet" data-line-numbers="4">
{
    "string": "Olá, mundo!",
    "inteiro": 123,
    "decimal": 123.45,
    "inteiroLongo": 12345678901234,
    "verdadeiro": true,
    "falso": false,
    "nulo": null
}
                        </code></pre>
                        </div>
                        <div class="right-section">
                            <p>Teste</p>
                            <pre><code data-id="code-snippet" data-line-numbers="6">
when()
    .get("api/v1/valores")
    .then()
    .body("string", equalTo("Olá, mundo!"))
    .body("inteiro", equalTo(123))
    .body("decimal", equalTo(123.45f))
    .body("inteiroLongo", equalTo(12345678901234L))
    .body("verdadeiro", equalTo(true))
    .body("falso", equalTo(false))
    .body("nulo", nullValue());
                        </code></pre>
                        </div>
                    </div>
                </section>
                <section data-auto-animate="">
                    <header class="header">
                        <h1>Testes de API</h1>
                    </header>
                    <p>Testando valores na resposta</p>
                    <div class="h-container">
                        <div class="left-section">
                            <p>JSON</p>
                            <pre><code data-id="json-snippet" data-line-numbers="5">
{
    "string": "Olá, mundo!",
    "inteiro": 123,
    "decimal": 123.45,
    "inteiroLongo": 12345678901234,
    "verdadeiro": true,
    "falso": false,
    "nulo": null
}
                        </code></pre>
                        </div>
                        <div class="right-section">
                            <p>Teste</p>
                            <pre><code data-id="code-snippet" data-line-numbers="7">
when()
    .get("api/v1/valores")
    .then()
    .body("string", equalTo("Olá, mundo!"))
    .body("inteiro", equalTo(123))
    .body("decimal", equalTo(123.45f))
    .body("inteiroLongo", equalTo(12345678901234L))
    .body("verdadeiro", equalTo(true))
    .body("falso", equalTo(false))
    .body("nulo", nullValue());
                        </code></pre>
                        </div>
                    </div>
                </section>
                <section data-auto-animate="">
                    <header class="header">
                        <h1>Testes de API</h1>
                    </header>
                    <p>Testando valores na resposta</p>
                    <div class="h-container">
                        <div class="left-section">
                            <p>JSON</p>
                            <pre><code data-id="json-snippet" data-line-numbers="6">
{
    "string": "Olá, mundo!",
    "inteiro": 123,
    "decimal": 123.45,
    "inteiroLongo": 12345678901234,
    "verdadeiro": true,
    "falso": false,
    "nulo": null
}
                        </code></pre>
                        </div>
                        <div class="right-section">
                            <p>Teste</p>
                            <pre><code data-id="code-snippet" data-line-numbers="8">
when()
    .get("api/v1/valores")
    .then()
    .body("string", equalTo("Olá, mundo!"))
    .body("inteiro", equalTo(123))
    .body("decimal", equalTo(123.45f))
    .body("inteiroLongo", equalTo(12345678901234L))
    .body("verdadeiro", equalTo(true))
    .body("falso", equalTo(false))
    .body("nulo", nullValue());
                        </code></pre>
                        </div>
                    </div>
                </section>
                <section data-auto-animate="">
                    <header class="header">
                        <h1>Testes de API</h1>
                    </header>
                    <p>Testando valores na resposta</p>
                    <div class="h-container">
                        <div class="left-section">
                            <p>JSON</p>
                            <pre><code data-id="json-snippet" data-line-numbers="7">
{
    "string": "Olá, mundo!",
    "inteiro": 123,
    "decimal": 123.45,
    "inteiroLongo": 12345678901234,
    "verdadeiro": true,
    "falso": false,
    "nulo": null
}
                        </code></pre>
                        </div>
                        <div class="right-section">
                            <p>Teste</p>
                            <pre><code data-id="code-snippet" data-line-numbers="9">
when()
    .get("api/v1/valores")
    .then()
    .body("string", equalTo("Olá, mundo!"))
    .body("inteiro", equalTo(123))
    .body("decimal", equalTo(123.45f))
    .body("inteiroLongo", equalTo(12345678901234L))
    .body("verdadeiro", equalTo(true))
    .body("falso", equalTo(false))
    .body("nulo", nullValue());
                        </code></pre>
                        </div>
                    </div>
                </section>
                <section data-auto-animate="">
                    <header class="header">
                        <h1>Testes de API</h1>
                    </header>
                    <p>Testando valores na resposta</p>
                    <div class="h-container">
                        <div class="left-section">
                            <p>JSON</p>
                            <pre><code data-id="json-snippet" data-line-numbers="8">
{
    "string": "Olá, mundo!",
    "inteiro": 123,
    "decimal": 123.45,
    "inteiroLongo": 12345678901234,
    "verdadeiro": true,
    "falso": false,
    "nulo": null
}
                        </code></pre>
                        </div>
                        <div class="right-section">
                            <p>Teste</p>
                            <pre><code data-id="code-snippet" data-line-numbers="10">
when()
    .get("api/v1/valores")
    .then()
    .body("string", equalTo("Olá, mundo!"))
    .body("inteiro", equalTo(123))
    .body("decimal", equalTo(123.45f))
    .body("inteiroLongo", equalTo(12345678901234L))
    .body("verdadeiro", equalTo(true))
    .body("falso", equalTo(false))
    .body("nulo", nullValue());
                        </code></pre>
                        </div>
                    </div>
                </section>
                <section data-auto-animate="">
                    <header class="header">
                        <h1>Testes de API</h1>
                    </header>
                    <p>Testando valores na resposta</p>
                    <div class="h-container">
                        <div class="left-section">
                            <p>JSON</p>
                            <pre><code data-id="json-snippet" data-line-numbers="9">
{
    "string": "Olá, mundo!",
    "inteiro": 123,
    "decimal": 123.45,
    "inteiroLongo": 12345678901234,
    "verdadeiro": true,
    "falso": false,
    "nulo": null
}
                        </code></pre>
                        </div>
                        <div class="right-section">
                            <p>Teste</p>
                            <pre><code data-id="code-snippet" data-line-numbers="11">
when()
    .get("api/v1/valores")
    .then()
    .body("string", equalTo("Olá, mundo!"))
    .body("inteiro", equalTo(123))
    .body("decimal", equalTo(123.45f))
    .body("inteiroLongo", equalTo(12345678901234L))
    .body("verdadeiro", equalTo(true))
    .body("falso", equalTo(false))
    .body("nulo", nullValue());
                        </code></pre>
                        </div>
                    </div>
                </section>
            </section>
            <section id="objeto-aninhado" data-auto-animate>
                <section id="obj-slide-1" data-auto-animate data-transition="fade">
                    <header class="header">
                        <h1>Testes de API</h1>
                    </header>
                    <p>Testando objetos aninhados</p>
                    <div class="h-container">
                        <div class="left-section">
                            <p>JSON</p>
                            <pre><code data-id="json-snippet" data-line-numbers>
{
    "nome": "João da Silva",
    "endereco": {
        "rua": "Rodovia Seixa Dórea",
        "numero": 123,
        "cidade": "Japaratuba",
        "estado": "SE",
        "cep": "49960-000"
    }
}
                        </code></pre>
                        </div>
                        <div class="right-section">
                            <p>Teste</p>
                            <pre><code data-id="code-snippet" data-line-numbers>
when()
    .get("/api/v1/objeto")
    .then()
    .body("nome", equalTo("João da Silva"))
    .body("endereco.rua", equalTo("Rodovia Seixas Dórea"))
    .body("endereco.numero", equalTo(123))
    .body("endereco.cidade", equalTo("Japaratuba"))
    .body("endereco.estado", equalTo("SE"))
    .body("endereco.cep", equalTo("49960-000"));
                        </code></pre>
                        </div>
                    </div>
                </section>
                <section id="obj-slide-2" data-auto-animate data-transition="fade">
                    <header class="header">
                        <h1>Testes de API</h1>
                    </header>
                    <p>Testando objetos aninhados</p>
                    <div class="h-container">
                        <div class="left-section">
                            <p>JSON</p>
                            <pre><code data-id="json-snippet" data-line-numbers="4-9">
{
    "nome": "João da Silva",
    "endereco": {
        "rua": "Rodovia Seixas Dórea",
        "numero": 123,
        "cidade": "Japaratuba",
        "estado": "SE",
        "cep": "49960-000"
    }
}
                        </code></pre>
                        </div>
                        <div class="right-section">
                            <p>Teste</p>
                            <pre><code data-id="code-snippet" data-line-numbers="6-10">
when()
    .get("/api/v1/objeto")
    .then()
    .body("nome", equalTo("João da Silva"))
    .body("endereco.rua", equalTo("Rodovia Seixas Dórea"))
    .body("endereco.numero", equalTo(123))
    .body("endereco.cidade", equalTo("Japaratuba"))
    .body("endereco.estado", equalTo("SE"))
    .body("endereco.cep", equalTo("49960-000"));
                        </code></pre>
                        </div>
                    </div>
                </section>
            </section>
            <section id="arrays">
                <section id="array-slide-1" data-auto-animate data-transition="slide-in">
                    <header class="header">
                        <h1>Testes de API</h1>
                    </header>
                    <p>Testando elementos em arrays</p>
                    <div class="h-container">
                        <div class="left-section">
                            <p>JSON</p>
                            <pre><code data-id="json-snippet" data-line-numbers>
{
    "tags": [
        "Java",
        "Sessão técnica",
        "RestAssured"
    ]
}
                        </code></pre>
                        </div>
                        <div class="right-section">
                            <p>Teste</p>
                            <pre><code class="fragment" data-id="code-snippet" data-line-numbers="5-7">
when()
    .get("/api/v1/tags")
    .then()
    .body("tags", contains("Java", "Sessão técnica", "RestAssured"));
                        </code></pre>
                        </div>
                    </div>
                </section>
                <section id="array-slide-2" data-auto-animate data-transition="slide-in">
                    <header class="header">
                        <h1>Testes de API</h1>
                    </header>
                    <p>Testando elementos em arrays</p>
                    <div class="h-container">
                        <div class="left-section">
                            <p>JSON</p>
                            <pre><code data-id="json-snippet" data-line-numbers>
{
    "tags": [
        "Java",
        "Sessão técnica",
        "RestAssured"
    ]
}
                        </code></pre>
                        </div>
                        <div class="right-section">
                            <p>Teste</p>
                            <pre><code data-id="code-snippet" data-line-numbers="5-7">
when()
    .get("/api/v1/tags")
    .then()
    .body("tags", containsInAnyOrder("Java", "RestAssured", "Sessão técnica"));
                        </code></pre>
                        </div>
                    </div>
                </section>
                <section id="array-slide-3" data-auto-animate data-transition="slide-in">
                    <header class="header">
                        <h1>Testes de API</h1>
                    </header>
                    <p>Testando elementos em arrays</p>
                    <div class="h-container">
                        <div class="left-section">
                            <p>JSON</p>
                            <pre><code data-id="json-snippet" data-line-numbers>
{
    "tags": [
        "Java",
        "Sessão técnica",
        "RestAssured"
    ]
}
                        </code></pre>
                        </div>
                        <div class="right-section">
                            <p>Teste</p>
                            <pre><code data-id="code-snippet" data-line-numbers="5-7">
when()
    .get("/api/v1/tags")
    .then()
    .body("tags", hasItems("RestAssured", "Java"));
                        </code></pre>
                        </div>
                    </div>
                </section>
                <section id="array-slide-4" data-auto-animate data-transition="slide-in">
                    <header class="header">
                        <h1>Testes de API</h1>
                    </header>
                    <p>Acessando elementos em arrays</p>
                    <div class="h-container">
                        <div class="left-section">
                            <p>JSON</p>
                            <pre><code data-id="json-snippet" data-line-numbers>
{
    "tags": [
        "Java",
        "Sessão técnica",
        "RestAssured"
    ]
}
                        </code></pre>
                        </div>
                        <div class="right-section">
                            <p>Teste</p>
                            <pre><code data-id="code-snippet" data-line-numbers="5-7">
when()
    .get("/api/v1/tags")
    .then()
    .body("tags[0]", equalTo("Java"))
    .body("tags[1]", equalTo("Sessão técnica"))
    .body("tags[2]", equalTo("RestAssured"));
                        </code></pre>
                        </div>
                    </div>
                </section>
                <section id="array-slide-5" data-auto-animate data-transition="slide-in">
                    <header class="header">
                        <h1>Testes de API</h1>
                    </header>
                    <p>Acessando elementos em arrays</p>
                    <div class="h-container">
                        <div class="left-section">
                            <p>JSON</p>
                            <pre><code data-id="json-snippet" data-line-numbers>
[
    "Java",
    "Sessão técnica",
    "RestAssured"
]
                        </code></pre>
                        </div>
                        <div class="right-section">
                            <p>Teste</p>
                            <pre><code data-id="code-snippet" data-line-numbers="5-7">
when()
    .get("/api/v1/tags")
    .then()
    .body("[0]", equalTo("Java"))
    .body("[1]", equalTo("Sessão técnica"))
    .body("[2]", equalTo("RestAssured"));
                        </code></pre>
                        </div>
                    </div>
                </section>
            </section>
            <section id="obj-e-array">
                <section id="obj-e-array-1" data-auto-animate data-transition="slide-in">
                    <header class="header">
                        <h1>Testes de API</h1>
                    </header>
                    <p>Testando elementos em arrays</p>
                    <div class="h-container">
                        <div class="left-section">
                            <p>JSON</p>
                            <pre><code data-id="json-snippet" data-line-numbers>
{
    "usuarios": [
        {
            "id": 1,
            "nome": "José da Silva"
        },
        {
            "id": 2,
            "nome": "Maria dos Santos"
        },
        {
            "id": 3,
            "nome": "João Nascimento"
        }
    ]
}
                        </code></pre>
                        </div>
                        <div class="right-section">
                            <p>Teste</p>
                            <pre><code data-id="code-snippet" data-line-numbers>
when()
    .get("/api/v1/usuarios")
    .then()
    .body("usuarios[0].id", equalTo(1));
    .body("usuarios[0].nome", equalTo("João da Silva"));
    .body("usuarios[1].id", equalTo(2));
    .body("usuarios[1].nome", equalTo("Maria dos Santos"));
    .body("usuarios[2].id", equalTo(3));
    .body("usuarios[2].nome", equalTo("João Nascimento"));
                        </code></pre>
                        </div>
                    </div>
                </section>
                <section id="obj-e-array-2" data-auto-animate data-transition="slide-in">
                    <header class="header">
                        <h1>Testes de API</h1>
                    </header>
                    <p>Testando elementos em arrays</p>
                    <div class="h-container">
                        <div class="left-section">
                            <p>JSON</p>
                            <pre><code data-id="json-snippet" data-line-numbers>
{
    "usuarios": [
        {
            "id": 1,
            "nome": "José da Silva"
        },
        {
            "id": 2,
            "nome": "Maria dos Santos"
        },
        {
            "id": 3,
            "nome": "João Nascimento"
        }
    ]
}
                        </code></pre>
                        </div>
                        <div class="right-section">
                            <p>Teste</p>
                            <pre><code data-id="code-snippet" data-line-numbers>
when()
    .get("/api/v1/usuarios")
    .then()
    .body("usuarios.id");
                        </code></pre>
                            <pre><code>[]</code></pre>
                        </div>
                    </div>
                </section>
                <section id="obj-e-array-3" data-auto-animate data-transition="slide-in">
                    <header class="header">
                        <h1>Testes de API</h1>
                    </header>
                    <p>Testando elementos em arrays</p>
                    <div class="h-container">
                        <div class="left-section">
                            <p>JSON</p>
                            <pre><code data-id="json-snippet" data-line-numbers="5-6">
{
    "usuarios": [
        {
            "id": 1,
            "nome": "José da Silva"
        },
        {
            "id": 2,
            "nome": "Maria dos Santos"
        },
        {
            "id": 3,
            "nome": "João Nascimento"
        }
    ]
}
                        </code></pre>
                        </div>
                        <div class="right-section">
                            <p>Teste</p>
                            <pre><code data-id="code-snippet" data-line-numbers>
when()
    .get("/api/v1/usuarios")
    .then()
    .body("usuarios.id");
                        </code></pre>
                            <pre><code>[1]</code></pre>
                        </div>
                    </div>
                </section>
                <section id="obj-e-array-4" data-auto-animate data-transition="slide-in">
                    <header class="header">
                        <h1>Testes de API</h1>
                    </header>
                    <p>Testando elementos em arrays</p>
                    <div class="h-container">
                        <div class="left-section">
                            <p>JSON</p>
                            <pre><code data-id="json-snippet" data-line-numbers="9-10">
{
    "usuarios": [
        {
            "id": 1,
            "nome": "José da Silva"
        },
        {
            "id": 2,
            "nome": "Maria dos Santos"
        },
        {
            "id": 3,
            "nome": "João Nascimento"
        }
    ]
}
                        </code></pre>
                        </div>
                        <div class="right-section">
                            <p>Teste</p>
                            <pre><code data-id="code-snippet" data-line-numbers>
when()
    .get("/api/v1/usuarios")
    .then()
    .body("usuarios.id");
                        </code></pre>
                            <pre><code>[1,2]</code></pre>
                        </div>
                    </div>
                </section>
                <section id="obj-e-array-5" data-auto-animate data-transition="slide-in">
                    <header class="header">
                        <h1>Testes de API</h1>
                    </header>
                    <p>Testando elementos em arrays</p>
                    <div class="h-container">
                        <div class="left-section">
                            <p>JSON</p>
                            <pre><code data-id="json-snippet" data-line-numbers="13-14">
{
    "usuarios": [
        {
            "id": 1,
            "nome": "José da Silva"
        },
        {
            "id": 2,
            "nome": "Maria dos Santos"
        },
        {
            "id": 3,
            "nome": "João Nascimento"
        }
    ]
}
                        </code></pre>
                        </div>
                        <div class="right-section">
                            <p>Teste</p>
                            <pre><code data-id="code-snippet" data-line-numbers>
when()
    .get("/api/v1/usuarios")
    .then()
    .body("usuarios.id");
                        </code></pre>
                            <pre><code>[1,2,3]</code></pre>
                        </div>
                    </div>
                </section>
                <section id="obj-e-array-6" data-auto-animate data-transition="slide-in">
                    <header class="header">
                        <h1>Testes de API</h1>
                    </header>
                    <p>Testando elementos em arrays</p>
                    <div class="h-container">
                        <div class="left-section">
                            <p>JSON</p>
                            <pre><code data-id="json-snippet" data-line-numbers>
{
    "usuarios": [
        {
            "id": 1,
            "nome": "José da Silva"
        },
        {
            "id": 2,
            "nome": "Maria dos Santos"
        },
        {
            "id": 3,
            "nome": "João Nascimento"
        }
    ]
}
                        </code></pre>
                        </div>
                        <div class="right-section">
                            <p>Teste</p>
                            <pre><code data-id="code-snippet" data-line-numbers>
when()
    .get("/api/v1/usuarios")
    .then()
    .body("usuarios.id", contains(1, 2, 3));
                        </code>
                    </div>
                </section>
                <section id="obj-e-array-7" data-auto-animate data-transition="fade-in">
                    <header class="header">
                        <h1>Testes de API</h1>
                    </header>
                    <p>Testando elementos em arrays</p>
                    <div class="h-container">
                        <div class="left-section">
                            <p>JSON</p>
                            <pre><code data-id="json-snippet" data-line-numbers>
{
    "usuarios": [
        {
            "id": 1,
            "nome": "José da Silva"
        },
        {
            "id": 2,
            "nome": "Maria dos Santos"
        },
        {
            "id": 3,
            "nome": "João Nascimento"
        }
    ]
}
                        </code></pre>
                        </div>
                        <div class="right-section">
                            <p>Teste</p>
                            <pre><code data-id="code-snippet" data-line-numbers>
when()
    .get("/api/v1/usuarios")
    .then()
    .body("usuarios.id", contains(1, 2, 3))
    .body("usuarios.nome", 
        contains("José da Silva", "Maria dos Santos", "João Nascimento"));
                        </code>
                    </div>
                </section>
            </section>
            <section id="gpath" data-auto-animate>
                <header class="header">
                    <h1>Testes de API</h1>
                    <p>Manipulações avançadas com GPath</p>
                </header>
                <pre><code>
                body("catalogo.produtos.preco.sum() == 100", equalTo(true));
                </code></pre>
                            <pre><code>
                body("usuarios.every { it.id != null }", equalTo(true));
                </code></pre>
                </section>
                <section id="aplicacao-gpath" data-auto-animate>
                    <header class="header">
                        <h1>Testes de API</h1>
                        <p>Exemplo de uso</p>
                    </header>
                    <div class="h-container">
                        <div class="left-section">
                            <p>JSON</p>
                            <pre><code data-id="json-snippet" data-line-numbers>
{
    "quantidadeUsuarios": 3,
    "usuarios": [
        {
            "id": 1,
            "nome": "José da Silva"
        },
        {
            "id": 2,
            "nome": "Maria dos Santos"
        },
        {
            "id": 3,
            "nome": "João Nascimento"
        }
    ]
}
                        </code></pre>
                        </div>
                        <div class="right-section">
                            <p>Teste</p>
                            <pre><code data-id="code-snippet" data-line-numbers>
final var QUANTIDADE_USUARIOS = 3;

when()
    .get("/api/v1/usuarios")
    .then()
    .body("quantidadeUsuarios", equalTo(QUANTIDADE_USUARIOS))
    .body("usuarios.size()", equalTo(QUANTIDADE_USUARIOS));
    
                        </code></pre>
                        </div>
                    </div>
                </section>
                <section id="salvar-resposta">
                    <header class="header">
                        <h1>Testes de API</h1>
                        <p>Salvando respostas de requisições</p>
                        <pre><code>
Response resposta = when()
   .get("/api/v1/algum-endpoint")
   .then()
   .extract()
   .response();

resposta.asString();
resposta.asInputStream();
resposta.asByteArray();
                        </code></pre>
                    </header>

                </section>
                <section id="testar-todos-items">
                    <header class="header">
                        <h1>Boas Práticas</h1>
                        <p>Preciso testar todos os campos?</p>
                    </header>
                    <h1 class="fragment">SIM!</h1>
                    <p class="fragment">...exceto em arrays</h1>

                </section>
                <section id="nomeie-testes">
                    <header>
                        <h1>Boas Práticas</h1>
                        <h3>Nomeie seus testes</h3>
                    </header>
                    <div style="display: inherit; gap: 2px;">
                        <p>Nome aleatório ❌</p>
                        <pre><code data-trim class="language-java">

@Test
void test1(){
    // Testes
}
                        </code></pre>
                        <p class="fragment">Usando anotação DisplayName✅</p>
                        <pre class="fragment"><code data-trim class="language-java">

@Test
@DisplayName("Verifica se a API retorna os clientes da agência.")
void test1(){
    // Testes
}
                        </code></pre>
                        <p class="fragment">Adotar uma convenção de nomenclatura✅</p>
                        <pre class="fragment"><code data-trim class="language-java">

@Test
void buscarClientes_deve_retornar_os_clientes_da_agencia(){
    // Testes
}
                        </code></pre>
                    </div>
                </section>
                <section id="testes-falham">
                    <header class="header">
                        <h1>Boas práticas</h1>
                        <p>Testes devem falhar quando o código estiver incorreto</p>
                    </header>
                    <blockquote>
                        <p>&ldquo;Nunca confie em um teste que você não viu falhar.&rdquo;</p>
                        <p style="text-align: left;"> - Martin van Dijk</p>
                    </blockquote>
                </section>
                <section id="testar-individualmente">
                    <header>
                        <h1>Boas práticas</h1>
                        <p>Todas as funções e métodos devem ser testados individualmente?</p>
                    </header>
                    <div style="display: flex; flex-direction: column;">
                        <p class="left-align fragment">Não necessariamente. Mas as seguintes devem se priorizadas:</p>
                        <ul class="left-align">
                            <li class="left-align fragment">Funções críticas para a aplicação.</li>
                            <li class="left-align fragment">Pontos de integração(entrada e saída).</li>
                            <li class="left-align fragment">Funções muito reutilizadas (com complexidade razoável).</li>
                            <li class="left-align fragment">Funções e classes com lógica complexa.</li>
                            <li class="left-align fragment">Correções de bugs.</li>
                        </ul>
                    </div>
                </section>
                <section id="testar-erros">
                    <section>
                        <header class="header">
                            <h1>Boas práticas</h1>
                            <p>Teste as ramificações do seu código</p>
                        </header>
                        <div class="left-section">
                            <p>Código fonte</p>
                            <pre><code data-id="json-snippet" data-line-numbers>
class AtualizarSaldoService {
    @Inject
    CompraService compraService;

    public int calcularSaldo(int saldoInicial, Compra compra) {
        if (compra.valor <= saldoInicial) {
            compraService.realizarCompra(compra);
            return saldoInicial - compra.valor;
        } else {
            throw new ErroNegocial(ErrosDescricao.SALDO_INSUFICIENTE);
        }
    }
}
                        </code></pre>
                        </div>
                    </section>
                    <section data-auto-animate>
                        <header class="header">
                            <h1>Boas práticas</h1>
                            <p>Teste as ramificações do seu código</p>
                        </header>
                        <div class="right-section">
                            <p>Testes</p>
                            <pre><code data-trim data-id="code-snippet" data-line-numbers="|5-13|16-25">
@QuarkusTest
class AtualizarSaldoServiceTest {
    // Mocks e inicializações...

    @Test
    @DisplayName("Deve retornar o saldo atualizado quando for possível realizar a compra.")
    void calcularSaldo_deve_retornar_valor_atualizado_se_compra_possivel() {
        final int SALDO_INICIAL = 1500;

        final var compra = new Compra();
        compra.setValor(1000);

        assertEquals(500, atualizarSaldoService.calcularSaldo(SALDO_INICIAL, compra));
    }

    @Test
    @DisplayName("Deve lançar erro quando o saldo inicial não for suficiente para realizar a compra.")
    void calcularSaldo_deve_lancar_erro_se_saldo_inicial_nao_for_suficiente() {
        final int SALDO_INICIAL = 500;

        final var compra = new Compra();
        compra.setValor(1000);

        assertThrows(ErroNegocial.class, () -> atualizarSaldoService.calcularSaldo(SALDO_INICIAL, compra));
    }
}
                        </code></pre>
                        </div>
                    </section>
                    <section data-auto-animate>
                        <header class="header">
                            <h1>Boas práticas</h1>
                            <p>Teste as ramificações do seu código</p>
                        </header>
                        <div class="right-section">
                            <p>Testes</p>
                            <pre><code data-trim data-id="code-snippet" data-line-numbers="16-28">
@QuarkusTest
class AtualizarSaldoServiceTest {
    // Mocks e inicializações...

    @Test
    @DisplayName("Deve retornar o saldo atualizado quando for possível realizar a compra.")
    void calcularSaldo_deve_retornar_valor_atualizado_se_compra_possivel() {
        final int SALDO_INICIAL = 1500;

        final var compra = new Compra();
        compra.setValor(1000);

        assertEquals(500, atualizarSaldoService.calcularSaldo(SALDO_INICIAL, compra));
    }

    @Test
    @DisplayName("Deve lançar erro quando o saldo inicial não for suficiente para realizar a compra.")
    void calcularSaldo_deve_lancar_erro_se_saldo_inicial_nao_for_suficiente() {
        final int SALDO_INICIAL = 500;

        final var compra = new Compra();
        compra.setValor(1000);

        final var erro = assertThrows(ErroNegocial.class, () -> atualizarSaldoService.calcularSaldo(SALDO_INICIAL, compra));

        assertEquals("001", erro.getCode());
        assertEquals("Saldo insuficiente para transação.", erro.getMessage());
    }
}
                        </code></pre>
                        </div>
                    </section>
                </section>
                <section id="testar-limites" data-auto-animate>
                    <section id="exemplo-compra" data-auto-animate>
                        <header class="header">
                            <h1>Boas práticas</h1>
                            <p>Testar condições limite</p>
                        </header>
                        <pre><code data-trim data-id="code-snippet" data-line-numbers="30-41">
@QuarkusTest
class AtualizarSaldoServiceTest {
    // Mocks e inicializações...

    @Test
    @DisplayName("Deve retornar o saldo atualizado quando for possível realizar a compra.")
    void calcularSaldo_deve_retornar_valor_atualizado_se_compra_possivel() {
        final int SALDO_INICIAL = 1500;

        final var compra = new Compra();
        compra.setValor(1000);

        assertEquals(500, atualizarSaldoService.calcularSaldo(SALDO_INICIAL, compra));
    }

    @Test
    @DisplayName("Deve lançar erro quando o saldo inicial não for suficiente para realizar a compra.")
    void calcularSaldo_deve_lancar_erro_se_saldo_inicial_nao_for_suficiente() {
        final int SALDO_INICIAL = 500;

        final var compra = new Compra();
        compra.setValor(1000);

        final var erro = assertThrows(ErroNegocial.class, () -> atualizarSaldoService.calcularSaldo(SALDO_INICIAL, compra));

        assertEquals("001", erro.getCode());
        assertEquals("Saldo insuficiente para transação.", erro.getMessage());
    }

    @Test
    @DisplayName("Deve zerar o saldo se o valor da compra for igual ao saldo inicial.")
    void calcularSaldo_deve_retornar_zero_se_valor_igual_ao_saldo() {
        final int SALDO_INICIAL = 1000;

        final var compra = new Compra();
        compra.setValor(1000);

        assertEquals(0, atualizarSaldoService.calcularSaldo(SALDO_INICIAL, compra));
    }
}
                        </code></pre>
                    </section>
                    <section id="exemplo-data" data-auto-animate>
                        <header class="header">
                            <h1>Boas práticas</h1>
                            <p>Testar condições limite</p>
                        </header>
                        <pre><code data-auto-animate data-line-numbers="1-7|9-15|17-23" data-trim>
@Test
void emAtraso_deve_retornar_true_se_pagamento_feito_depois_do_prazo() {
    final var DATA_PAGAMENTO = LocalDate.now();
    final var PRAZO = LocalData.of(1970, 1, 1);

    assertTrue(pagamentoService.emAtraso(DATA_PAGAMENTO, PRAZO));
}

@Test
void emAtraso_deve_retornar_false_se_pagamento_feito_antes_do_prazo() {
    final var DATA_PAGAMENTO = LocalDate.now();
    final var PRAZO = LocalDate.of(9999, 12, 12);

    assertFalse(pagamentoService.emAtraso(DATA_PAGAMENTO, PRAZO));
}

@Test
void emAtraso_deve_retornar_false_se_pagamento_feito_no_prazo() {
    final var DATA_PAGAMENTO = LocalDate.now();
    final var PRAZO = LocalData.now();

    assertFalse(pagamentoService.emAtraso(DATA_PAGAMENTO, PRAZO));
}
                        </code></pre>
                    </section>
                    <section id="exemplo-data-correcao" data-auto-animate>
                        <header class="header">
                            <h1>Boas práticas</h1>
                            <p>Testar condições limite</p>
                        </header>
                        <pre><code data-auto-animate data-line-numbers="9-15" data-trim>
@Test
void emAtraso_deve_retornar_true_se_pagamento_feito_depois_do_prazo() {
    final var DATA_PAGAMENTO = LocalDate.now();
    final var PRAZO = LocalData.of(1970, 1, 1);

    assertTrue(pagamentoService.emAtraso(DATA_PAGAMENTO, PRAZO));
}

@Test
void emAtraso_deve_retornar_false_se_pagamento_feito_antes_do_prazo() {
    final var DATA_PAGAMENTO = LocalDate.now();
    final var PRAZO = LocalDate.now().plusDays(1);

    assertFalse(pagamentoService.emAtraso(DATA_PAGAMENTO, PRAZO));
}

@Test
void emAtraso_deve_retornar_false_se_pagamento_feito_no_prazo() {
    final var DATA_PAGAMENTO = LocalDate.now();
    final var PRAZO = LocalData.now();

    assertFalse(pagamentoService.emAtraso(DATA_PAGAMENTO, PRAZO));
}
                        </code></pre>
                    </section>
                    <section id="exemplo-lista" data-auto-animate>
                        <header class="header">
                            <h1>Boas práticas</h1>
                            <p>Testar condições limite</p>
                        </header>
                        <pre><code data-line-numbers="3|5-10|13-18" data-trim>
class ListarUsuariosServiceTest() {
    // inicializações e mocks ...
    final int QUANTIDADE_USUARIOS = 20;

    @Test
    @DisplayName("Deve retornar usuário se o índice for válido.")
    void obterUsuario_deve_retornar_usuario_se_indice_valido() {
        final int INDICE_BUSCA = 19;

        assertDoesNotThrow(() -> listarUsuariosService.obterUsuario(INDICE_BUSCA));
    }

    @Test
    @DisplayName("Deve lançar exceção se o índice for inválido.")
    void obterUsuario_deve_lancar_excecao_se_indice_invalido() {
        final int INDICE_BUSCA = 20;

        assertThrows(ErroNegocial.class, () -> listarUsuariosService.obterUsuario(INDICE_BUSCA));
    }
}
                        </code></pre>
                    </section>
                </section>
                <section id="testar-invariantes">
                    <section data-auto-animate>
                        <header class="header">
                            <h1>Boas práticas</h1>
                            <p>Testar invariantes do código, quando possível</p>
                        </header>

                        <pre><code>

final var QUANTIDADE_USUARIOS = 3;

when()
    .get("/api/v1/usuarios")
    .then()
    .body("quantidadeUsuarios", equalTo(QUANTIDADE_USUARIOS))
    .body("usuarios.size()", equalTo(QUANTIDADE_USUARIOS));
                    </code></pre>
                    </section>
                    <section data-auto-animate>
                        <header class="header">
                            <h1>Boas práticas</h1>
                            <p>Testar invariantes do código, quando possível</p>
                        </header>

                        <pre><code data-trim>
@Test
void limites_individuais_devem_ser_menores_ou_iguais_ao_limite_unico() {
    // Obter dados do cartão
    final DadosCartao dadosCartao = ...

    // Obter o maior limite
    var maiorLimite = dadosCartao.getLimites().stream()
                        .mapToInt(limite -> limite.getValor())
                        .max();
    
    assertTrue(maiorLimite.getAsInt() <= dadosCartao.getLimiteUnico());
}
</code></pre>
                    </section>
                </section>
                <section id="testes-parametrizados">
                    <section>
                        <header class="header">
                            <h1>Boas práticas</h1>
                            <p>Testes parametrizados</p>
                        </header>
                        <pre><code class="language-java">
@ParameterizedTest
@CsvSource({
    "teste@bb.com.br, true",
    "usuario.nome+tag@bb.com.br, true",
    "usuario@, false",
    "@bb.com.br, false",
    "bb.com.br, false",
    "test@@bb.com.br, false"
})
void validarEmail_deve_retornar_true_se_email_for_valido(String email, boolean valido) {
    assertEquals(valido, validarEmailService.validarEmail(email));
}


                    </code></pre>
                    </section>
                    <section>
                        <header class="header">
                            <h1>Boas práticas</h1>
                            <p>Testes parametrizados</p>
                        </header>
                        <pre><code class="language-java">
@ParameterizedTest
@ValueSource(ints = {14, 17, 19, 21, 25, 28, 29, 43, 54})
void deve_retornar_true_se_codigo_for_valido(int codigo) {
    assertTrue(validarCodigo(codigo));
}
                    </code></pre>
                    </section>
                    <section>
                        <header class="header">
                            <h1>Boas práticas</h1>
                            <p>Testar parametrizados</p>
                        </header>
                        <pre><code class="language-java">
class ListarUsuariosServiceTest() {
    // inicializações e mocks ...
    final static int QUANTIDADE_USUARIOS = 20;

    private static IntStream gerarIndices() {
        return IntStream.range(0, QUANTIDADE_USUARIOS);
    }

    @ParameterizedTest
    @DisplayName("Deve retornar usuário se o índice for válido.")
    @MethodSource("gerarIndices")
    void obterUsuario_deve_retornar_usuario_se_indice_valido(int indice) {
        assertDoesNotThrow(() -> listarUsuariosService.obterUsuario(indice));
    }
}
                        </code></pre>
                    </section>
                </section>
                <section id="referencias">
                    <header>
                        <p>Referências</p>
                    </header>
                    <ul>
                        <li>HENNEY, K. <strong>97 Things Every Programmer Should Know. </strong>[s.l.] O’Reilly Media,
                            2010. </li>
                        <li>
                            JORGENSEN, P. <strong> Software testing : a craftman’s approach. </strong>Boca Raton:
                            Auerbach, 2018.
                        </li>
                        <li>
                            DEHGHANI, A. <strong>Guide to JUnit 5 Parameterized Tests</strong>. Disponível em:
                            &lthttps://www.baeldung.com/parameterized-tests-junit-5&gt.
                        </li>
                        <li>
                            GOTO CONFERENCES.<strong>Structure and Interpretation of Test Cases • Kevlin Henney • GOTO
                                2022.</strong>
                            Disponível em: &lthttps: //www.youtube.com/watch?v=MWsk1h8pv2Q&gt. Acesso em: 19 jul. 2024.
                        </li>
                        <li>
                            <strong> 5.5.0 javadoc (io.rest-assured).</strong> Disponível em: &lthttps:
                            //www.javadoc.io/doc/io.rest-assured/rest-assured&gt. Acesso em: 19 jul. 2024.
                        </li>
                        <li>
                            <strong> (Hamcrest 2.2 API).</strong> Disponível em: &lthttps:
                            //hamcrest.org/JavaHamcrest/javadoc/2.2/org/hamcrest/Matchers&gt. Acesso em: 19 jul. 2024.
                        </li>
                    </ul>
                </section>
                <section style="display: grid; height: 100vh;">
                    <h1 style="place-self: center;">Obrigado!</h1>
                </section>
        </div>
    </div>

    <script src="dist/reveal.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script>
        // More info about initialization & config:
        // - https://revealjs.com/initialization/
        // - https://revealjs.com/config/
        Reveal.initialize({
            hash: true,
            display: "grid",
            width: "100%",
            height: "100%",

            // Learn about plugins: https://revealjs.com/plugins/
            plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
        });

        Reveal.configure({ center: false });
    </script>
</body>

</html>